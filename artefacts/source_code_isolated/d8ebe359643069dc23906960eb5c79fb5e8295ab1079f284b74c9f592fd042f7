public static PasspointConfiguration parsePasspointConfig(String mimeType, byte[] data){
    if (!TextUtils.equals(mimeType, TYPE_WIFI_CONFIG)) {
        Log.e(TAG, "Unexpected MIME type: " + mimeType);
        return null;
    }
    try {
        byte[] decodedData = Base64.decode(new String(data, StandardCharsets.ISO_8859_1), Base64.DEFAULT);
        Map<String, byte[]> mimeParts = parseMimeMultipartMessage(new LineNumberReader(new InputStreamReader(new ByteArrayInputStream(decodedData), StandardCharsets.ISO_8859_1)));
        return createPasspointConfig(mimeParts);
    } catch (IOException | IllegalArgumentException e) {
        Log.e(TAG, "Failed to parse installation file: " + e.getMessage());
        return null;
    }
}