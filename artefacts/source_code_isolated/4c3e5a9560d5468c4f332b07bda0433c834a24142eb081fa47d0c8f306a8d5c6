public void unregisterInputDeviceListener(InputDeviceListener listener){
    if (listener == null) {
        throw new IllegalArgumentException("listener must not be null");
    }
    synchronized (mInputDevicesLock) {
        int index = findInputDeviceListenerLocked(listener);
        if (index >= 0) {
            InputDeviceListenerDelegate d = mInputDeviceListeners.get(index);
            d.removeCallbacksAndMessages(null);
            mInputDeviceListeners.remove(index);
        }
    }
}