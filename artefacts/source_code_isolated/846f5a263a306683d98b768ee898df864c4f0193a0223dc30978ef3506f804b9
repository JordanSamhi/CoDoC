public static boolean propertiesMeetCriteria(String name, ProviderProperties properties, Criteria criteria){
    if (LocationManager.PASSIVE_PROVIDER.equals(name)) {
        return false;
    }
    if (properties == null) {
        return false;
    }
    if (criteria.getAccuracy() != Criteria.NO_REQUIREMENT && criteria.getAccuracy() < properties.mAccuracy) {
        return false;
    }
    if (criteria.getPowerRequirement() != Criteria.NO_REQUIREMENT && criteria.getPowerRequirement() < properties.mPowerRequirement) {
        return false;
    }
    if (criteria.isAltitudeRequired() && !properties.mSupportsAltitude) {
        return false;
    }
    if (criteria.isSpeedRequired() && !properties.mSupportsSpeed) {
        return false;
    }
    if (criteria.isBearingRequired() && !properties.mSupportsBearing) {
        return false;
    }
    if (!criteria.isCostAllowed() && properties.mHasMonetaryCost) {
        return false;
    }
    return true;
}