public static int getLinger(final HttpParams params){
    if (params == null) {
        throw new IllegalArgumentException("HTTP parameters may not be null");
    }
    return params.getIntParameter(CoreConnectionPNames.SO_LINGER, -1);
}