public final void makeCompatible(int targetSdkVersion){
    if (targetSdkVersion < android.os.Build.VERSION_CODES.HONEYCOMB) {
        switch(inputType & (TYPE_MASK_CLASS | TYPE_MASK_VARIATION)) {
            case TYPE_CLASS_TEXT | TYPE_TEXT_VARIATION_WEB_EMAIL_ADDRESS:
                inputType = TYPE_CLASS_TEXT | TYPE_TEXT_VARIATION_EMAIL_ADDRESS | (inputType & TYPE_MASK_FLAGS);
                break;
            case TYPE_CLASS_TEXT | TYPE_TEXT_VARIATION_WEB_PASSWORD:
                inputType = TYPE_CLASS_TEXT | TYPE_TEXT_VARIATION_PASSWORD | (inputType & TYPE_MASK_FLAGS);
                break;
            case TYPE_CLASS_NUMBER | TYPE_NUMBER_VARIATION_NORMAL:
            case TYPE_CLASS_NUMBER | TYPE_NUMBER_VARIATION_PASSWORD:
                inputType = TYPE_CLASS_NUMBER | (inputType & TYPE_MASK_FLAGS);
                break;
        }
    }
}