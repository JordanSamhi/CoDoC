public T clamp(T value){
    checkNotNull(value, "value must not be null");
    if (value.compareTo(mLower) < 0) {
        return mLower;
    } else if (value.compareTo(mUpper) > 0) {
        return mUpper;
    } else {
        return value;
    }
}