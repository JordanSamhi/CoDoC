public void closeLocked(){
    synchronized (mDeviceConnections) {
        for (DeviceConnection connection : mDeviceConnections) {
            connection.getClient().removeDeviceConnection(connection);
        }
        mDeviceConnections.clear();
    }
    setDeviceServer(null);
    if (mServiceInfo == null) {
        removeDeviceLocked(this);
    } else {
        mDeviceStatus = new MidiDeviceStatus(mDeviceInfo);
    }
    if (mBluetoothDevice != null) {
        mBluetoothDevices.remove(mBluetoothDevice);
    }
}