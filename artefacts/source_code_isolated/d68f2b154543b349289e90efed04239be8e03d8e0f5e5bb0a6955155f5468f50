public void inflate(@NonNull Resources r, @NonNull XmlPullParser parser, @NonNull AttributeSet attrs, @Nullable Theme theme) throws XmlPullParserException, IOException{
    super.inflate(r, parser, attrs, theme);
    final DrawableWrapperState state = mState;
    if (state == null) {
        return;
    }
    final int densityDpi = r.getDisplayMetrics().densityDpi;
    final int targetDensity = densityDpi == 0 ? DisplayMetrics.DENSITY_DEFAULT : densityDpi;
    state.setDensity(targetDensity);
    state.mSrcDensityOverride = mSrcDensityOverride;
    final TypedArray a = obtainAttributes(r, theme, attrs, R.styleable.DrawableWrapper);
    updateStateFromTypedArray(a);
    a.recycle();
    inflateChildDrawable(r, parser, attrs, theme);
}