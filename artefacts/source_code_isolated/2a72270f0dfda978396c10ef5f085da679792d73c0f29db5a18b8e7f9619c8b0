public CharSequence loadLabel(PackageManager pm){
    if (nonLocalizedLabel != null) {
        return nonLocalizedLabel;
    }
    CharSequence label;
    if (resolvePackageName != null && labelRes != 0) {
        label = pm.getText(resolvePackageName, labelRes, null);
        if (label != null) {
            return label.toString().trim();
        }
    }
    ComponentInfo ci = getComponentInfo();
    ApplicationInfo ai = ci.applicationInfo;
    if (labelRes != 0) {
        label = pm.getText(ci.packageName, labelRes, ai);
        if (label != null) {
            return label.toString().trim();
        }
    }
    CharSequence data = ci.loadLabel(pm);
    if (data != null)
        data = data.toString().trim();
    return data;
}