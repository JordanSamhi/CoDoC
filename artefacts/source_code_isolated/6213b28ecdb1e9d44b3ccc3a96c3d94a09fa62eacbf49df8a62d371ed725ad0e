public Range<Double> getSupportedFrameRatesFor(int width, int height){
    Range<Integer> range = mHeightRange;
    if (!supports(width, height, null)) {
        throw new IllegalArgumentException("unsupported size");
    }
    final int blockCount = Utils.divUp(width, mBlockWidth) * Utils.divUp(height, mBlockHeight);
    return Range.create(Math.max(mBlocksPerSecondRange.getLower() / (double) blockCount, (double) mFrameRateRange.getLower()), Math.min(mBlocksPerSecondRange.getUpper() / (double) blockCount, (double) mFrameRateRange.getUpper()));
}