public static Parameters getParametersCopy(Camera.Parameters parameters){
    if (parameters == null) {
        throw new NullPointerException("parameters must not be null");
    }
    Camera camera = parameters.getOuter();
    Parameters p = camera.new Parameters();
    p.copyFrom(parameters);
    return p;
}