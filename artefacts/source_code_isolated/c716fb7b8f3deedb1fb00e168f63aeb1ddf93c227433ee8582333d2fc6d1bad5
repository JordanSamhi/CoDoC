public static void setConnectionTimeout(final HttpParams params, int timeout){
    if (params == null) {
        throw new IllegalArgumentException("HTTP parameters may not be null");
    }
    params.setIntParameter(CoreConnectionPNames.CONNECTION_TIMEOUT, timeout);
}