public static byte[] stringToGsm7BitPackedWithHeader(String data, byte[] header, int languageTable, int languageShiftTable) throws EncodeException{
    if (header == null || header.length == 0) {
        return stringToGsm7BitPacked(data, languageTable, languageShiftTable);
    }
    int headerBits = (header.length + 1) * 8;
    int headerSeptets = (headerBits + 6) / 7;
    byte[] ret = stringToGsm7BitPacked(data, headerSeptets, true, languageTable, languageShiftTable);
    ret[1] = (byte) header.length;
    System.arraycopy(header, 0, ret, 2, header.length);
    return ret;
}