public byte[] toByteArray(){
    int len = (mPos >>> 3) + ((mPos & 0x07) > 0 ? 1 : 0);
    byte[] newBuf = new byte[len];
    System.arraycopy(mBuf, 0, newBuf, 0, len);
    return newBuf;
}