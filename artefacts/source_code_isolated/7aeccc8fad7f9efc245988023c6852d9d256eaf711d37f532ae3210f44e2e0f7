public boolean resolveWithLayoutDirection(int layoutDirection){
    final Drawable previousLeft = mShowing[Drawables.LEFT];
    final Drawable previousRight = mShowing[Drawables.RIGHT];
    mShowing[Drawables.LEFT] = mDrawableLeftInitial;
    mShowing[Drawables.RIGHT] = mDrawableRightInitial;
    if (mIsRtlCompatibilityMode) {
        if (mDrawableStart != null && mShowing[Drawables.LEFT] == null) {
            mShowing[Drawables.LEFT] = mDrawableStart;
            mDrawableSizeLeft = mDrawableSizeStart;
            mDrawableHeightLeft = mDrawableHeightStart;
        }
        if (mDrawableEnd != null && mShowing[Drawables.RIGHT] == null) {
            mShowing[Drawables.RIGHT] = mDrawableEnd;
            mDrawableSizeRight = mDrawableSizeEnd;
            mDrawableHeightRight = mDrawableHeightEnd;
        }
    } else {
        switch(layoutDirection) {
            case LAYOUT_DIRECTION_RTL:
                if (mOverride) {
                    mShowing[Drawables.RIGHT] = mDrawableStart;
                    mDrawableSizeRight = mDrawableSizeStart;
                    mDrawableHeightRight = mDrawableHeightStart;
                    mShowing[Drawables.LEFT] = mDrawableEnd;
                    mDrawableSizeLeft = mDrawableSizeEnd;
                    mDrawableHeightLeft = mDrawableHeightEnd;
                }
                break;
            case LAYOUT_DIRECTION_LTR:
            default:
                if (mOverride) {
                    mShowing[Drawables.LEFT] = mDrawableStart;
                    mDrawableSizeLeft = mDrawableSizeStart;
                    mDrawableHeightLeft = mDrawableHeightStart;
                    mShowing[Drawables.RIGHT] = mDrawableEnd;
                    mDrawableSizeRight = mDrawableSizeEnd;
                    mDrawableHeightRight = mDrawableHeightEnd;
                }
                break;
        }
    }
    applyErrorDrawableIfNeeded(layoutDirection);
    return mShowing[Drawables.LEFT] != previousLeft || mShowing[Drawables.RIGHT] != previousRight;
}