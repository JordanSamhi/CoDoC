public double nextDouble() throws IOException{
    peek();
    if (token != JsonToken.STRING && token != JsonToken.NUMBER) {
        throw new IllegalStateException("Expected a double but was " + token);
    }
    double result = Double.parseDouble(value);
    advance();
    return result;
}