public int getManagedUserId(int callingUserId){
    if (VERBOSE_LOG) {
        Log.v(LOG_TAG, "getManagedUserId: callingUserId=" + callingUserId);
    }
    for (UserInfo ui : mUserManager.getProfiles(callingUserId)) {
        if (ui.id == callingUserId || !ui.isManagedProfile()) {
            continue;
        }
        if (VERBOSE_LOG) {
            Log.v(LOG_TAG, "Managed user=" + ui.id);
        }
        return ui.id;
    }
    if (VERBOSE_LOG) {
        Log.v(LOG_TAG, "Managed user not found.");
    }
    return -1;
}