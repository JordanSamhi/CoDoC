public void xor(BitSet set){
    int wordsInCommon = Math.min(wordsInUse, set.wordsInUse);
    if (wordsInUse < set.wordsInUse) {
        ensureCapacity(set.wordsInUse);
        wordsInUse = set.wordsInUse;
    }
    for (int i = 0; i < wordsInCommon; i++) words[i] ^= set.words[i];
    if (wordsInCommon < set.wordsInUse)
        System.arraycopy(set.words, wordsInCommon, words, wordsInCommon, set.wordsInUse - wordsInCommon);
    recalculateWordsInUse();
    checkInvariants();
}