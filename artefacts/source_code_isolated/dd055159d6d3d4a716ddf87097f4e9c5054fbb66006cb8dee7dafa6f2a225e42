public void writeToParcel(Parcel dest, int flags){
    dest.writeString(mServiceName);
    dest.writeString(mServiceType);
    if (mHost != null) {
        dest.writeInt(1);
        dest.writeByteArray(mHost.getAddress());
    } else {
        dest.writeInt(0);
    }
    dest.writeInt(mPort);
    dest.writeInt(mTxtRecord.size());
    for (String key : mTxtRecord.keySet()) {
        byte[] value = mTxtRecord.get(key);
        if (value != null) {
            dest.writeInt(1);
            dest.writeInt(value.length);
            dest.writeByteArray(value);
        } else {
            dest.writeInt(0);
        }
        dest.writeString(key);
    }
}