public void setOnCancelListener(@Nullable OnCancelListener listener){
    if (mCancelAndDismissTaken != null) {
        throw new IllegalStateException("OnCancelListener is already taken by " + mCancelAndDismissTaken + " and can not be replaced.");
    }
    if (listener != null) {
        mCancelMessage = mListenersHandler.obtainMessage(CANCEL, listener);
    } else {
        mCancelMessage = null;
    }
}