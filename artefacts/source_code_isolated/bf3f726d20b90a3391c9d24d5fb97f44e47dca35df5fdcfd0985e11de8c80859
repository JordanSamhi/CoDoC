public int getState(){
    synchronized (this) {
        updateDisplayInfoLocked();
        return mIsValid ? mDisplayInfo.state : STATE_UNKNOWN;
    }
}