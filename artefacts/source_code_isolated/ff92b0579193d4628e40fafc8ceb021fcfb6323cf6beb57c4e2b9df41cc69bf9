public boolean isWallpaperSupported(String callingPackage){
    return mAppOpsManager.checkOpNoThrow(AppOpsManager.OP_WRITE_WALLPAPER, Binder.getCallingUid(), callingPackage) == AppOpsManager.MODE_ALLOWED;
}