public synchronized void error(String msg, Exception ex, int code){
    if (reported) {
        return;
    }
    reported = true;
    String text = "java.util.logging.ErrorManager: " + code;
    if (msg != null) {
        text = text + ": " + msg;
    }
    System.err.println(text);
    if (ex != null) {
        ex.printStackTrace();
    }
}