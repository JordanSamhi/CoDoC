public int getOffsetForAdvance(CharSequence text, int start, int end, int contextStart, int contextEnd, boolean isRtl, float advance){
    if (text == null) {
        throw new IllegalArgumentException("text cannot be null");
    }
    if ((contextStart | start | end | contextEnd | start - contextStart | end - start | contextEnd - end | text.length() - contextEnd) < 0) {
        throw new IndexOutOfBoundsException();
    }
    char[] buf = TemporaryBuffer.obtain(contextEnd - contextStart);
    TextUtils.getChars(text, contextStart, contextEnd, buf, 0);
    int result = getOffsetForAdvance(buf, start - contextStart, end - contextStart, 0, contextEnd - contextStart, isRtl, advance) + contextStart;
    TemporaryBuffer.recycle(buf);
    return result;
}