public void removeUidsLocked(int[] uids){
    if (mRotator != null) {
        try {
            mRotator.rewriteAll(new RemoveUidRewriter(mBucketDuration, uids));
        } catch (IOException e) {
            Log.wtf(TAG, "problem removing UIDs " + Arrays.toString(uids), e);
            recoverFromWtf();
        } catch (OutOfMemoryError e) {
            Log.wtf(TAG, "problem removing UIDs " + Arrays.toString(uids), e);
            recoverFromWtf();
        }
    }
    if (mPending != null) {
        mPending.removeUids(uids);
    }
    if (mSinceBoot != null) {
        mSinceBoot.removeUids(uids);
    }
    if (mLastSnapshot != null) {
        mLastSnapshot.removeUids(uids);
    }
    final NetworkStatsCollection complete = mComplete != null ? mComplete.get() : null;
    if (complete != null) {
        complete.removeUids(uids);
    }
}