public static File rewriteAfterRename(File beforeDir, File afterDir, File file){
    if (file == null || beforeDir == null || afterDir == null)
        return null;
    if (contains(beforeDir, file)) {
        final String splice = file.getAbsolutePath().substring(beforeDir.getAbsolutePath().length());
        return new File(afterDir, splice);
    }
    return null;
}