public static NfcAdapterExtras get(NfcAdapter adapter){
    Context context = adapter.getContext();
    if (context == null) {
        throw new UnsupportedOperationException("You must pass a context to your NfcAdapter to use the NFC extras APIs");
    }
    synchronized (NfcAdapterExtras.class) {
        if (sService == null) {
            initService(adapter);
        }
        NfcAdapterExtras extras = sNfcExtras.get(adapter);
        if (extras == null) {
            extras = new NfcAdapterExtras(adapter);
            sNfcExtras.put(adapter, extras);
        }
        return extras;
    }
}