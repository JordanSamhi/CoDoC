public void registerCallback(Callback callback, Handler handler){
    if (callback == null) {
        throw new IllegalArgumentException("callback should not be null");
    }
    if (handler == null) {
        handler = new Handler();
    }
    mCallbacks.put(callback, new CallbackRecord(callback, handler));
}