public static byte[] stringToAscii(String str){
    int len = str.length();
    byte[] result = new byte[len];
    for (int i = 0; i < len; i++) {
        int charCode = charToAscii.get(str.charAt(i), -1);
        if (charCode == -1)
            return null;
        result[i] = (byte) charCode;
    }
    return result;
}