public String getString(String property, String def){
    Object value = super.get(property);
    if (value == null) {
        return def;
    }
    if (value == NULL_STRING) {
        return null;
    } else if (value instanceof String) {
        return (String) value;
    }
    throw new TypeException(property, value, "string");
}