public long getNextChangeTime(long now){
    if (mSchedule == null)
        return 0;
    final long nextStart = getNextTime(now, mSchedule.startHour, mSchedule.startMinute);
    final long nextEnd = getNextTime(now, mSchedule.endHour, mSchedule.endMinute);
    long nextScheduleTime = Math.min(nextStart, nextEnd);
    return nextScheduleTime;
}