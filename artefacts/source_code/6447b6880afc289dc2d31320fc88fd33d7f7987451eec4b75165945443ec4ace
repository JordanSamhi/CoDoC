public int calculateMarshalSize(T value){
    int nativeSize = getNativeSize();
    if (nativeSize == NATIVE_SIZE_DYNAMIC) {
        throw new AssertionError("Override this function for dynamically-sized objects");
    }
    return nativeSize;
}