public SyncAdapterType[] getSyncAdapterTypesAsUser(int userId){
    enforceCrossUserPermission(userId, "no permission to read sync settings for user " + userId);
    final long identityToken = clearCallingIdentity();
    try {
        SyncManager syncManager = getSyncManager();
        return syncManager.getSyncAdapterTypes(userId);
    } finally {
        restoreCallingIdentity(identityToken);
    }
}