public void setVisiblePatternEnabled(boolean enabled, int userId){
    setBoolean(Settings.Secure.LOCK_PATTERN_VISIBLE, enabled, userId);
    if (userId != UserHandle.USER_SYSTEM) {
        return;
    }
    IBinder service = ServiceManager.getService("mount");
    if (service == null) {
        Log.e(TAG, "Could not find the mount service to update the user info");
        return;
    }
    IStorageManager storageManager = IStorageManager.Stub.asInterface(service);
    try {
        storageManager.setField(StorageManager.PATTERN_VISIBLE_KEY, enabled ? "1" : "0");
    } catch (RemoteException e) {
        Log.e(TAG, "Error changing pattern visible state", e);
    }
}