public static Pair<InetAddress, Integer> parseIpAndMask(String ipAndMaskString){
    InetAddress address = null;
    int prefixLength = -1;
    try {
        String[] pieces = ipAndMaskString.split("/", 2);
        prefixLength = Integer.parseInt(pieces[1]);
        address = InetAddress.parseNumericAddress(pieces[0]);
    } catch (NullPointerException e) {
    } catch (ArrayIndexOutOfBoundsException e) {
    } catch (NumberFormatException e) {
    } catch (IllegalArgumentException e) {
    }
    if (address == null || prefixLength == -1) {
        throw new IllegalArgumentException("Invalid IP address and mask " + ipAndMaskString);
    }
    return new Pair<InetAddress, Integer>(address, prefixLength);
}