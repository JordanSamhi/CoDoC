public void setSubtitle(CharSequence subtitle){
    if (!TextUtils.isEmpty(subtitle)) {
        if (mSubtitleTextView == null) {
            final Context context = getContext();
            mSubtitleTextView = new TextView(context);
            mSubtitleTextView.setSingleLine();
            mSubtitleTextView.setEllipsize(TextUtils.TruncateAt.END);
            if (mSubtitleTextAppearance != 0) {
                mSubtitleTextView.setTextAppearance(mSubtitleTextAppearance);
            }
            if (mSubtitleTextColor != 0) {
                mSubtitleTextView.setTextColor(mSubtitleTextColor);
            }
        }
        if (!isChildOrHidden(mSubtitleTextView)) {
            addSystemView(mSubtitleTextView, true);
        }
    } else if (mSubtitleTextView != null && isChildOrHidden(mSubtitleTextView)) {
        removeView(mSubtitleTextView);
        mHiddenViews.remove(mSubtitleTextView);
    }
    if (mSubtitleTextView != null) {
        mSubtitleTextView.setText(subtitle);
    }
    mSubtitleText = subtitle;
}