public InputDevice getInputDeviceByDescriptor(String descriptor){
    if (descriptor == null) {
        throw new IllegalArgumentException("descriptor must not be null.");
    }
    synchronized (mInputDevicesLock) {
        populateInputDevicesLocked();
        int numDevices = mInputDevices.size();
        for (int i = 0; i < numDevices; i++) {
            InputDevice inputDevice = mInputDevices.valueAt(i);
            if (inputDevice == null) {
                int id = mInputDevices.keyAt(i);
                try {
                    inputDevice = mIm.getInputDevice(id);
                } catch (RemoteException ex) {
                    throw ex.rethrowFromSystemServer();
                }
                if (inputDevice == null) {
                    continue;
                }
                mInputDevices.setValueAt(i, inputDevice);
            }
            if (descriptor.equals(inputDevice.getDescriptor())) {
                return inputDevice;
            }
        }
        return null;
    }
}