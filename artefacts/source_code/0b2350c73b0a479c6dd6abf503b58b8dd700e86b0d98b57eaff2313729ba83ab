public synchronized boolean addServers(long lifetime, String[] addresses){
    long now = System.currentTimeMillis();
    long expiry = now + 1000 * lifetime;
    for (String addressString : addresses) {
        InetAddress address;
        try {
            address = InetAddress.parseNumericAddress(addressString);
        } catch (IllegalArgumentException ex) {
            continue;
        }
        if (!updateExistingEntry(address, expiry)) {
            if (expiry > now) {
                DnsServerEntry entry = new DnsServerEntry(address, expiry);
                mAllServers.add(entry);
                mIndex.put(address, entry);
            }
        }
    }
    Collections.sort(mAllServers);
    return updateCurrentServers();
}