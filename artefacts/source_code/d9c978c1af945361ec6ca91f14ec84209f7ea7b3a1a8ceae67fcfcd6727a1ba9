public int[] getOutputs(final int format){
    int left = mEntry.length;
    for (int i = 0; i < mEntry.length; ) {
        final int inputFormat = mEntry[i];
        left--;
        i++;
        if (left < 1) {
            throw new AssertionError(String.format("Input %x had no output format length listed", format));
        }
        final int length = mEntry[i];
        left--;
        i++;
        if (length > 0) {
            if (left < length) {
                throw new AssertionError(String.format("Input %x had too few output formats listed (actual: %d, " + "expected: %d)", format, left, length));
            }
        }
        if (inputFormat == format) {
            int[] outputs = new int[length];
            for (int k = 0; k < length; ++k) {
                outputs[k] = mEntry[i + k];
            }
            return StreamConfigurationMap.imageFormatToPublic(outputs);
        }
        i += length;
        left -= length;
    }
    throw new IllegalArgumentException(String.format("Input format %x was not one in #getInputs", format));
}