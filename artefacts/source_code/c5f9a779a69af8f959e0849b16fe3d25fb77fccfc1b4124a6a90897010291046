public boolean isCallerInteractingAcrossUsers(int userId){
    final int callingUid = Binder.getCallingUid();
    return (Binder.getCallingPid() == android.os.Process.myPid() || callingUid == Process.SHELL_UID || userId == UserHandle.USER_CURRENT || userId == UserHandle.USER_CURRENT_OR_SELF);
}