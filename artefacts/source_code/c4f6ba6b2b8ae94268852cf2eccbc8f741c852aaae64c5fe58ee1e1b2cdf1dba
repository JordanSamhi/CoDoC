public void forcePersistLocked(long currentTimeMillis){
    Objects.requireNonNull(mRotator, "missing FileRotator");
    if (mPending.isDirty()) {
        if (LOGD)
            Slog.d(TAG, "forcePersistLocked() writing for " + mCookie);
        try {
            mRotator.rewriteActive(mPendingRewriter, currentTimeMillis);
            mRotator.maybeRotate(currentTimeMillis);
            mPending.reset();
        } catch (IOException e) {
            Log.wtf(TAG, "problem persisting pending stats", e);
            recoverFromWtf();
        } catch (OutOfMemoryError e) {
            Log.wtf(TAG, "problem persisting pending stats", e);
            recoverFromWtf();
        }
    }
}