public Image dequeueInputImage(){
    if (mDequeuedImages.size() >= mMaxImages) {
        throw new IllegalStateException("Already dequeued max number of Images " + mMaxImages);
    }
    WriterSurfaceImage newImage = new WriterSurfaceImage(this);
    nativeDequeueInputImage(mNativeContext, newImage);
    mDequeuedImages.add(newImage);
    newImage.mIsImageValid = true;
    return newImage;
}