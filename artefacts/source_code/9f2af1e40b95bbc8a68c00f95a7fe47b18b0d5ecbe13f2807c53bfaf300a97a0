public synchronized void add(C callback){
    int index = mCallbacks.lastIndexOf(callback);
    if (index < 0 || isRemovedLocked(index)) {
        mCallbacks.add(callback);
    }
}