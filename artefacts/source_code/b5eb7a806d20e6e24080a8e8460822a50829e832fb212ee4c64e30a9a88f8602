public void setIndeterminateDrawable(Drawable d){
    if (mIndeterminateDrawable != d) {
        if (mIndeterminateDrawable != null) {
            mIndeterminateDrawable.setCallback(null);
            unscheduleDrawable(mIndeterminateDrawable);
        }
        mIndeterminateDrawable = d;
        if (d != null) {
            d.setCallback(this);
            d.setLayoutDirection(getLayoutDirection());
            if (d.isStateful()) {
                d.setState(getDrawableState());
            }
            applyIndeterminateTint();
        }
        if (mIndeterminate) {
            swapCurrentDrawable(d);
            postInvalidate();
        }
    }
}